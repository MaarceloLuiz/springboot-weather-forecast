# 1- Hourly Forecast
<!-- HOURLY-START -->
## Today's Weather

<div align="center">

`Dublin - 2025-06-28`

<table style="border-collapse: collapse; width: auto; margin: auto;">
<tr>
<td align="center" style="border: none; padding: 10px;">
<img src="https://cdn.weatherapi.com/weather/64x64/day/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/>

Patchy rain nearby

</td>
<td align="center" style="border: none; padding: 10px;">
<img src="https://raw.githubusercontent.com/MaarceloLuiz/springboot-weather-forecast/main/assets/img/Waxing Crescent.png" alt="Moon Phase Icon" style="width:50px; height:50px;"/>

Waxing Crescent

</td>
</tr>
</table>
</div>

<table>
<tr><th>Hour</th>
<td>00:00</td><td>01:00</td><td>02:00</td><td>03:00</td><td>04:00</td><td>05:00</td><td>06:00</td><td>07:00</td><td>08:00</td><td>09:00</td><td>10:00</td><td>11:00</td><td>12:00</td><td>13:00</td><td>14:00</td><td>15:00</td><td>16:00</td><td>17:00</td><td>18:00</td><td>19:00</td><td>20:00</td><td>21:00</td><td>22:00</td><td>23:00</td></tr><tr><th>Weather</th>
<td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/119.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/116.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/119.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/116.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/116.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/122.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/122.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/122.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/122.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/122.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/122.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td></tr><tr><th>Condition</th>
<td>Cloudy </td><td>Partly Cloudy </td><td>Patchy rain nearby</td><td>Patchy rain nearby</td><td>Patchy rain nearby</td><td>Cloudy </td><td>Partly Cloudy </td><td>Patchy rain nearby</td><td>Partly cloudy</td><td>Patchy rain nearby</td><td>Patchy rain nearby</td><td>Patchy rain nearby</td><td>Patchy rain nearby</td><td>Patchy rain nearby</td><td>Patchy rain nearby</td><td>Patchy rain nearby</td><td>Overcast </td><td>Overcast </td><td>Overcast </td><td>Overcast </td><td>Overcast </td><td>Overcast </td><td>Patchy rain nearby</td><td>Patchy rain nearby</td></tr><tr><th>Temperature</th>
<td>19.0 °C</td><td>19.1 °C</td><td>19.1 °C</td><td>19.0 °C</td><td>18.6 °C</td><td>18.9 °C</td><td>19.0 °C</td><td>19.6 °C</td><td>19.4 °C</td><td>21.2 °C</td><td>22.0 °C</td><td>20.7 °C</td><td>19.4 °C</td><td>20.7 °C</td><td>19.1 °C</td><td>19.0 °C</td><td>18.1 °C</td><td>17.3 °C</td><td>17.1 °C</td><td>16.5 °C</td><td>16.0 °C</td><td>15.7 °C</td><td>15.6 °C</td><td>15.4 °C</td></tr><tr><th>Wind</th>
<td>18.7 kph</td><td>19.4 kph</td><td>19.1 kph</td><td>19.8 kph</td><td>21.2 kph</td><td>22.7 kph</td><td>21.2 kph</td><td>21.6 kph</td><td>22.0 kph</td><td>25.6 kph</td><td>26.6 kph</td><td>23.0 kph</td><td>17.6 kph</td><td>22.3 kph</td><td>17.3 kph</td><td>17.6 kph</td><td>15.8 kph</td><td>11.9 kph</td><td>11.9 kph</td><td>10.4 kph</td><td>8.3 kph</td><td>7.2 kph</td><td>6.1 kph</td><td>5.0 kph</td></tr></table>

*Updated at: 2025-06-28 07:11 by [MaarceloLuiz/springboot-weather-forecast](https://github.com/MaarceloLuiz/springboot-weather-forecast)*


<!-- HOURLY-END -->

# 2- Multi-Day Forecast
<!-- MULTI-DAY-START -->
## 3 Days Weather Forecast

<div align="center">

`Dublin - 2025-06-28`

<table style="border-collapse: collapse; width: auto; margin: auto;">
<tr>
<td align="center" style="border: none; padding: 10px;">
<img src="https://cdn.weatherapi.com/weather/64x64/day/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/>

Patchy rain nearby

</td>
<td align="center" style="border: none; padding: 10px;">
<img src="https://raw.githubusercontent.com/MaarceloLuiz/springboot-weather-forecast/main/assets/img/Waxing Crescent.png" alt="Moon Phase Icon" style="width:50px; height:50px;"/>

Waxing Crescent

</td>
</tr>
</table>
</div>

<table>
<tr><th>Date</th>
<td>2025-06-28</td><td>2025-06-29</td><td>2025-06-30</td></tr><tr><th>Weather</th>
<td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/116.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td></tr><tr><th>Condition</th>
<td width="200px">Patchy rain nearby</td><td width="200px">Patchy rain nearby</td><td width="200px">Partly Cloudy </td></tr><tr><th>Moon Phase</th>
<td>Waxing Crescent</td><td>Waxing Crescent</td><td>Waxing Crescent</td></tr><tr><th>Moon</th>
<td style="padding: 10;"><img src="https://raw.githubusercontent.com/MaarceloLuiz/springboot-weather-forecast/main/assets/img/Waxing Crescent.png" alt="Moon Phase Icon" style="width:40px; height:40px;"/></td><td style="padding: 10;"><img src="https://raw.githubusercontent.com/MaarceloLuiz/springboot-weather-forecast/main/assets/img/Waxing Crescent.png" alt="Moon Phase Icon" style="width:40px; height:40px;"/></td><td style="padding: 10;"><img src="https://raw.githubusercontent.com/MaarceloLuiz/springboot-weather-forecast/main/assets/img/Waxing Crescent.png" alt="Moon Phase Icon" style="width:40px; height:40px;"/></td></tr><tr><th>Temperature</th>
<td>15.4 - 22.0 °C</td><td>14.9 - 24.7 °C</td><td>14.2 - 24.7 °C</td></tr><tr><th>Wind</th>
<td>26.6 kph</td><td>18.0 kph</td><td>19.8 kph</td></tr></table>

*Updated at: 2025-06-28 07:11 by [MaarceloLuiz/springboot-weather-forecast](https://github.com/MaarceloLuiz/springboot-weather-forecast)*


<!-- MULTI-DAY-END -->
---

# Weather Forecast
[![NPM](https://img.shields.io/npm/l/react)](https://github.com/MaarceloLuiz/springboot-weather-forecast/blob/main/License) 

## Objective
- Fetching accurate weather data from [WeatherAPI](https://www.weatherapi.com/).
- Updating forecasts automatically.
- Using a CI/CD pipeline for workflow automation.

## Features
- Daily Updates: Automatically fetches and updates weather forecasts every day.
- GitHub Actions: Utilizes workflows to automate daily operations.
- Dockerized Environment: Provides a consistent runtime environment for builds and tests.
- Java Spring Boot: Implements the application's backend logic.
- Library Deployment with Repsy: [WeatherAPI](https://www.weatherapi.com/)'s library was deployed on Repsy, with the library also available on GitHub Packages.
- Customizable Forecast: Configurable for location, days and table style.

## Technologies and Frameworks
- Programming Languages & Frameworks
  - Java
  - Spring Boot
  - Maven (Build Tool)
- CI/CD & Automation
  - GitHub Actions
  - Workflow Configuration (action.yml)
- Containerization
  - Docker

---

# How to Use
## Step 1: Create an Account and Get an API Key

- Visit [WeatherAPI](https://www.weatherapi.com/) and create a free account.
- After signing up, navigate to your account dashboard.
- Generate a new API key, which will be required for the application to fetch weather data.
- Save this API key securely, as you’ll need it in the next steps.


## Step 2: Embed the Tables in Any Repository
You can embed the generated tables into any repository, including your GitHub profile repository. Follow these steps:

- If you haven’t already, create a repository named <your-username>/<your-username> (e.g., github.com/yourusername/yourusername). This will automatically act as your GitHub profile's README.md.
- Insert the following placeholders into your README.md file exactly as shown below. Place the placeholders in the specific location where you want the table to appear.
  
```bash
<!-- HOURLY-START -->
<!-- HOURLY-END -->

<!-- MULTI-DAY-START -->
<!-- MULTI-DAY-END -->
```

These placeholders are required for the workflow to identify where to embed the forecast tables. **Make sure the placeholders match exactly as shown above**, including the casing and dashes.
- \<!-- HOURLY-START -->, \<!-- HOURLY-END --> : These placeholders will embed the [**hourly table**](https://github.com/MaarceloLuiz/springboot-weather-forecast#1--hourly-forecast), in case you choose this option in the workflow configuration.
- \<!-- MULTI-DAY-START -->, \<!-- MULTI-DAY-END --> : These placeholders will embed the [**multi-day table**](https://github.com/MaarceloLuiz/springboot-weather-forecast#2--multi-day-forecast), in case you choose this option in the workflow configuration.

**Why should you add both placeholders?**
- Flexibility: If you only choose one table type now, the other placeholder will simply remain empty and won't impact your workflow or file appearance.
- Even if you only choose one table type (e.g., hourly), the workflow will ignore unused placeholders. You can later update the TABLE_TYPE variable to include other table types (e.g., multi-day or both) without modifying your README.md file.


## Step 3: Set Up Environment Variables
**Configuration and Environment Variables** <br>
To add Secrets and Variables:, follow these steps **carefully**:

- Navigate to your repository on GitHub.
- Go to **Settings > Secrets and variables > Actions**.
- Under the **Secrets** tab, click **New Repository Secret** and add the following **exactly as shown**:
  - ``` WEATHER_API_KEY ```: Your API key from WeatherAPI.
- Under the **Variables** tab, click **New Repository Variable** and add the following variables **exactly as shown**:
  - ``` FORECAST_CITY ```: The city for which you want the weather forecast (e.g., Dublin).
  - ``` FORECAST_DAYS ```: Number of days to forecast (e.g., 3 for a 3-day forecast).
  - ``` TABLE_TYPE ```: The type of forecast table. **Choose ONE of the following options**:
    - ``` hourly ``` : For hourly forecasts. -> [**hourly table example**](https://github.com/MaarceloLuiz/springboot-weather-forecast#1--hourly-forecast)
    - ``` multi-day ``` : For multi-day forecasts. -> [**multi-day table example**](https://github.com/MaarceloLuiz/springboot-weather-forecast#2--multi-day-forecast)
    - ``` both ``` : For both hourly and multi-day forecasts.

⚠️ **Important:** Ensure the variable names (``` WEATHER_API_KEY ```, ``` FORECAST_CITY ``` , ``` FORECAST_DAYS ```, ``` TABLE_TYPE``` ) are entered exactly as shown above, including capitalization.


## Step 4: Set Up the GitHub Workflow
- To create a folder in your repository called .github/workflows/. follow the instructions:
  - Navigate to the **Actions** tab in your repository.
  - Under **"Simple workflow"**, click **"Configure"**.
  - Rename the default workflow file to *update-weather.yml* or *update-readme.yml* for clarity.
- Copy and paste the following workflow code into the file:
    
```bash
name: "Update Weather"

on:
  workflow_dispatch:
  schedule:
    - cron: "0 9 * * *" 
  
jobs:
  run-weather-app:
    runs-on: ubuntu-latest
    timeout-minutes: 10

    steps:
      - name: Check out repository
        uses: actions/checkout@v3

      - name: Run Action
        uses: MaarceloLuiz/springboot-weather-forecast@v1.0.2
        with:
          WEATHER_API_KEY: ${{ secrets.WEATHER_API_KEY }}
          FORECAST_CITY: ${{ vars.FORECAST_CITY }}
          FORECAST_DAYS: ${{ vars.FORECAST_DAYS }}
          TABLE_TYPE: ${{ vars.TABLE_TYPE }}

      - name: Commit and Push Changes
        run: |
          git config --global user.name "github-actions"
          git config --global user.email "github-actions@github.com"
          git add README.md
          git commit -m "Update weather forecast" || echo "No changes to commit"
          git push origin main
```

**Workflow Explanation:**
- ``` cron: "0 9 * * *" ```  -> Runs automatically every day at 9:00 AM UTC.
- *MaarceloLuiz/springboot-weather-forecast@v1.0.2* -> Executes the custom GitHub action that generates the weather forecast tables.
  - It uses the input you defined before:
    - **WEATHER_API_KEY, FORECAST_CITY, FORECAST_DAYS, TABLE_TYPE.**
- Commit and Push Changes:
  - Stages the updated README.md file and commits the changes with the message: Update weather forecast.
  - Pushes the changes to the main branch of the repository and includes a fallback (*|| echo "No changes to commit"*) in case there are no updates to the forecast tables.
 
## Step 5: Ensure your Workflow has permission to push changes to your repository
- Go to your repository settings:
  - Settings > Actions > General
- Under Workflow permissions, select:
    - **Read and write permissions**
- Click **Save**.

## Step 6: Run the Workflow or Let it Run Automatically
- Manually Run the Workflow:
  - Go to the **Actions** tab in your repository.
  - Find the **"Update Weather"** workflow in the list.
  - Click **"Run workflow"** to test it immediately.
- Automatically Run the Workflow:
  - The workflow is set to run daily at 9:00 AM UTC based on the schedule defined in the cron configuration.
- Check the Results:
  - Once the workflow completes, check your README.md file in the repository.

# 1- Hourly Forecast
<!-- HOURLY-START -->
## Today's Weather

<div align="center">

`Dublin - 2024-12-31`

<table style="border-collapse: collapse; width: auto; margin: auto;">
<tr>
<td align="center" style="border: none; padding: 10px;">
<img src="https://cdn.weatherapi.com/weather/64x64/day/302.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/>

Moderate rain

</td>
<td align="center" style="border: none; padding: 10px;">
<img src="https://raw.githubusercontent.com/MaarceloLuiz/springboot-weather-forecast/main/assets/img/Waxing Crescent.png" alt="Moon Phase Icon" style="width:50px; height:50px;"/>

Waxing Crescent

</td>
</tr>
</table>
</div>

<table>
<tr><th>Hour</th>
<td>00:00</td><td>01:00</td><td>02:00</td><td>03:00</td><td>04:00</td><td>05:00</td><td>06:00</td><td>07:00</td><td>08:00</td><td>09:00</td><td>10:00</td><td>11:00</td><td>12:00</td><td>13:00</td><td>14:00</td><td>15:00</td><td>16:00</td><td>17:00</td><td>18:00</td><td>19:00</td><td>20:00</td><td>21:00</td><td>22:00</td><td>23:00</td></tr><tr><th>Weather</th>
<td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/119.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/116.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/119.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/119.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/119.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/116.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/116.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/116.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/266.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/296.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/296.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/296.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/266.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/266.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/296.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/263.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/122.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/119.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/119.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/353.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/night/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td></tr><tr><th>Condition</th>
<td>Cloudy </td><td>Partly Cloudy </td><td>Cloudy </td><td>Cloudy </td><td>Cloudy </td><td>Partly Cloudy </td><td>Partly cloudy</td><td>Partly Cloudy </td><td>Light drizzle</td><td>Light rain</td><td>Light rain</td><td>Light rain</td><td>Light drizzle</td><td>Light drizzle</td><td>Light rain</td><td>Patchy light drizzle</td><td>Patchy rain nearby</td><td>Overcast </td><td>Patchy rain nearby</td><td>Patchy rain nearby</td><td>Cloudy </td><td>Cloudy </td><td>Light rain shower</td><td>Patchy rain nearby</td></tr><tr><th>Temperature</th>
<td>9.4 °C</td><td>9.7 °C</td><td>9.7 °C</td><td>10.0 °C</td><td>10.1 °C</td><td>10.1 °C</td><td>10.4 °C</td><td>10.2 °C</td><td>10.2 °C</td><td>10.2 °C</td><td>10.5 °C</td><td>10.9 °C</td><td>11.3 °C</td><td>11.4 °C</td><td>11.4 °C</td><td>10.8 °C</td><td>9.8 °C</td><td>9.5 °C</td><td>9.5 °C</td><td>9.3 °C</td><td>8.9 °C</td><td>8.4 °C</td><td>8.2 °C</td><td>7.7 °C</td></tr><tr><th>Wind</th>
<td>27.4 kph</td><td>29.5 kph</td><td>30.6 kph</td><td>32.4 kph</td><td>33.1 kph</td><td>34.2 kph</td><td>36.4 kph</td><td>38.5 kph</td><td>40.7 kph</td><td>41.8 kph</td><td>41.0 kph</td><td>41.0 kph</td><td>43.2 kph</td><td>41.8 kph</td><td>33.5 kph</td><td>36.4 kph</td><td>37.8 kph</td><td>38.5 kph</td><td>37.1 kph</td><td>35.6 kph</td><td>36.4 kph</td><td>34.6 kph</td><td>33.5 kph</td><td>33.5 kph</td></tr></table>

*Updated at: 2024-12-31 07:12 by [MaarceloLuiz/springboot-weather-forecast](https://github.com/MaarceloLuiz/springboot-weather-forecast)*


<!-- HOURLY-END -->

# 2- Multi-Day Forecast
<!-- MULTI-DAY-START -->
## 3 Days Weather Forecast

<div align="center">

`Dublin - 2024-12-31`

<table style="border-collapse: collapse; width: auto; margin: auto;">
<tr>
<td align="center" style="border: none; padding: 10px;">
<img src="https://cdn.weatherapi.com/weather/64x64/day/302.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/>

Moderate rain

</td>
<td align="center" style="border: none; padding: 10px;">
<img src="https://raw.githubusercontent.com/MaarceloLuiz/springboot-weather-forecast/main/assets/img/Waxing Crescent.png" alt="Moon Phase Icon" style="width:50px; height:50px;"/>

Waxing Crescent

</td>
</tr>
</table>
</div>

<table>
<tr><th>Date</th>
<td>2024-12-31</td><td>2025-01-01</td><td>2025-01-02</td></tr><tr><th>Weather</th>
<td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/302.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/176.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td><td style="padding: 0;"><img src="https://cdn.weatherapi.com/weather/64x64/day/113.png" alt="Weather Condition Icon" style="width:50px; height:50px;"/></td></tr><tr><th>Condition</th>
<td width="200px">Moderate rain</td><td width="200px">Patchy rain nearby</td><td width="200px">Sunny</td></tr><tr><th>Moon Phase</th>
<td>Waxing Crescent</td><td>Waxing Crescent</td><td>Waxing Crescent</td></tr><tr><th>Moon</th>
<td style="padding: 10;"><img src="https://raw.githubusercontent.com/MaarceloLuiz/springboot-weather-forecast/main/assets/img/Waxing Crescent.png" alt="Moon Phase Icon" style="width:40px; height:40px;"/></td><td style="padding: 10;"><img src="https://raw.githubusercontent.com/MaarceloLuiz/springboot-weather-forecast/main/assets/img/Waxing Crescent.png" alt="Moon Phase Icon" style="width:40px; height:40px;"/></td><td style="padding: 10;"><img src="https://raw.githubusercontent.com/MaarceloLuiz/springboot-weather-forecast/main/assets/img/Waxing Crescent.png" alt="Moon Phase Icon" style="width:40px; height:40px;"/></td></tr><tr><th>Temperature</th>
<td>7.7 - 11.4 °C</td><td>-1.2 - 5.6 °C</td><td>-2.6 - 3.6 °C</td></tr><tr><th>Wind</th>
<td>43.2 kph</td><td>33.1 kph</td><td>12.6 kph</td></tr></table>

*Updated at: 2024-12-31 07:12 by [MaarceloLuiz/springboot-weather-forecast](https://github.com/MaarceloLuiz/springboot-weather-forecast)*


<!-- MULTI-DAY-END -->

## Weather Forecast
This project generates weather forecasts dynamically.

## How to Use
## Step 1: Create an Account and Get an API Key

- Visit [WeatherAPI](https://www.weatherapi.com/) and create a free account.
- After signing up, navigate to your account dashboard.
- Generate a new API key, which will be required for the application to fetch weather data.
- Save this API key securely, as you’ll need it in the next steps.

## Step 2: Set Up Environment Variables
To configure the application, you need to create the following environment variables:

**Required Environment Variables**
- WEATHER_API_KEY: Your API key from WeatherAPI.
- FORECAST_CITY: The city for which you want the weather forecast (e.g., Dublin).
- FORECAST_DAYS: Number of days to forecast (e.g., 3 for a 3-day forecast).
- TABLE_TYPE: Type of table you want to generate. Options are:
  - hourly: For hourly forecasts. -> [**hourly table example**](https://github.com/MaarceloLuiz/springboot-weather-forecast#1--hourly-forecast)
  - multi-day: For multi-day forecasts. -> [**multi-day table example**](https://github.com/MaarceloLuiz/springboot-weather-forecast#2--multi-day-forecast)
  - both: For both hourly and multi-day forecasts.

**Configuration** <br>
Add these variables to your GitHub repository as follows:
- Navigate to your repository on GitHub.
- Go to **Settings > Secrets and variables > Actions**.
- Under the **Secrets** tab, add your WEATHER_API_KEY as a new secret.
- Under the **Variables** tab, add the following variables:
  - FORECAST_CITY: The city you want to forecast.
  - FORECAST_DAYS: The number of forecast days.
  - TABLE_TYPE: The type of forecast table.

## Step 3: Embed the Tables in Any Repository
You can embed the generated tables into any repository, including your GitHub profile repository. Follow these steps:

- If you haven’t already, create a repository named <your-username>/<your-username> (e.g., github.com/yourusername/yourusername). This will automatically act as your GitHub profile's README.md.
- Add the following placeholders to your README.md file exactly as shown, regardless of which table you choose to embed.
  
```bash
<!-- HOURLY-START -->
<!-- HOURLY-END -->

<!-- MULTI-DAY-START -->
<!-- MULTI-DAY-END -->
```

These placeholders are required for the workflow to identify where to embed the forecast tables. **Make sure the placeholders match exactly as shown above**, including the casing and dashes.
- \<!-- HOURLY-START -->, \<!-- HOURLY-END --> : These placeholders will embed the [**hourly table**](https://github.com/MaarceloLuiz/springboot-weather-forecast#1--hourly-forecast), in case you choose this option in the workflow configuration.
- \<!-- MULTI-DAY-START -->, \<!-- MULTI-DAY-END --> : These placeholders will embed the [**multi-day table**](https://github.com/MaarceloLuiz/springboot-weather-forecast#2--multi-day-forecast), in case you choose this option in the workflow configuration.

**Why should you add both placeholders?**
- Flexibility: If you only choose one table type now, the other placeholder will simply remain empty and won't impact your workflow or file appearance.
- Even if you only choose one table type (e.g., hourly), the workflow will ignore unused placeholders. You can later update the TABLE_TYPE variable to include other table types (e.g., multi-day or both) without modifying your README.md file.

## Step 4: Set Up the GitHub Workflow
- To create a folder in your repository called .github/workflows/. follow the instructions:
  - Navigate to the **Actions** tab in your repository.
  - Under **"Simple workflow"**, click **"Configure"**.
  - Rename the default workflow file to *update-weather.yml* or *update-readme.yml* for clarity.
- Copy and paste the following workflow code into the file:
    
```bash
name: "Update Weather"

on:
  workflow_dispatch:
  schedule:
    - cron: "0 9 * * *" 
  
jobs:
  run-weather-app:
    runs-on: ubuntu-latest
    timeout-minutes: 10

    steps:
      - name: Check out repository
        uses: actions/checkout@v3

      - name: Run Action
        uses: MaarceloLuiz/springboot-weather-forecast@v1.0.2
        with:
          WEATHER_API_KEY: ${{ secrets.WEATHER_API_KEY }}
          FORECAST_CITY: ${{ vars.FORECAST_CITY }}
          FORECAST_DAYS: ${{ vars.FORECAST_DAYS }}
          TABLE_TYPE: ${{ vars.TABLE_TYPE }}

      - name: Commit and Push Changes
        run: |
          git config --global user.name "github-actions"
          git config --global user.email "github-actions@github.com"
          git add README.md
          git commit -m "Update weather forecast" || echo "No changes to commit"
          git push origin main
```

**Workflow Explanation:**
- ``` cron: "0 9 * * *" ```  -> Runs automatically every day at 9:00 AM UTC.
- *MaarceloLuiz/springboot-weather-forecast@v1.0.2* -> Executes the custom GitHub action that generates the weather forecast tables.
  - It uses the input you defined before:
    - **WEATHER_API_KEY, FORECAST_CITY, FORECAST_DAYS, TABLE_TYPE.**
- Commit and Push Changes:
  - Stages the updated README.md file and commits the changes with the message: Update weather forecast.
  - Pushes the changes to the main branch of the repository and includes a fallback (*|| echo "No changes to commit"*) in case there are no updates to the forecast tables.
 
## Step 5: Ensure your Workflow has permission to push changes to your repository
- Go to your repository settings:
  - Settings > Actions > General
- Under Workflow permissions, select:
    - **Read and write permissions**
- Click **Save**.

## Step 6: Run the Workflow or Let it Run Automatically
- Manually Run the Workflow:
  - Go to the **Actions** tab in your repository.
  - Find the **"Update Weather Forecast"** workflow in the list.
  - Click **"Run workflow"** to test it immediately.
- Automatically Run the Workflow:
  - The workflow is set to run daily at 9:00 AM UTC based on the schedule defined in the cron configuration.
- Check the Results:
  - Once the workflow completes, check your README.md file in the repository.
